<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <title>Process Killing - Ù…ØªÙ‰ ÙˆÙ„Ù…Ø§Ø°Ø§ ÙŠÙ‚ØªÙ„ OS Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§ØªØŸ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;500;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #f7f8fa;
      --card: #ffffff;
      --text: #1f2937;
      --muted: #6b7280;
      --border: #e5e7eb;
      --accent: #2563eb;
      --code-bg: #666666;
      --code-text: #ffffff;
    }

    * {
      box-sizing: border-box;
      font-family: 'Nunito', 'Segoe UI', Tahoma, Arial, sans-serif;
    }

    body {
      margin: 0;
      font-family: 'Nunito', 'Segoe UI', Tahoma, Arial, sans-serif; 
      background: var(--bg);
      color: var(--text);
      line-height: 1.8;
    }

    .page {
      max-width: 980px;
      margin: auto;
      padding: 32px 16px;
    }

    .content {
      background: var(--card);
      border-radius: 12px;
      padding: 32px;
      border: 1px solid var(--border);
    }

    h1, h2, h3, h4 {
      color: #111827;
      margin-top: 32px;
    }

    h1 {
      font-size: 2.1rem;
      border-bottom: 3px solid var(--accent);
      padding-bottom: 8px;
    }

    h2 {
      font-size: 1.6rem;
      border-right: 4px solid var(--accent);
      padding-right: 12px;
    }

    h3 {
      font-size: 1.3rem;
    }

    h4 {
      font-size: 1.1rem;
      color: #374151;
    }

    p {
      margin: 12px 0;
    }

    hr {
      margin: 40px 0;
      border: none;
      height: 1px;
      background: var(--border);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin: 16px 0;
      font-size: 0.95rem;
    }

    table th,
    table td {
      border: 1px solid var(--border);
      padding: 10px;
      text-align: right;
    }

    table th {
      background: #f1f5f9;
      font-weight: 600;
    }

    ul, ol {
      padding-right: 20px;
    }

    blockquote {
      background: #f1f5f9;
      border-right: 4px solid var(--accent);
      padding: 12px 16px;
      margin: 16px 0;
      color: #374151;
    }

    pre {
      background: var(--code-bg);
      color: var(--code-text);
      padding: 16px;
      border-radius: 10px;
      overflow-x: auto;
      margin: 16px 0;
      font-size: 0.9rem;
      direction: ltr;
      text-align: left;
    }

    code {
      font-family: 'Roboto Mono', 'Courier New', monospace;
    }

    p code {
      background: #eef2ff;
      color: #1e40af;
      padding: 2px 6px;
      border-radius: 6px;
      font-size: 0.85em;
    }

    section {
      margin-bottom: 32px;
    }

    .warning {
      background: #fef2f2;
      border-right: 4px solid #dc2626;
      padding: 12px 16px;
      margin: 16px 0;
      color: #991b1b;
    }

    .success {
      background: #f0fdf4;
      border-right: 4px solid #16a34a;
      padding: 12px 16px;
      margin: 16px 0;
      color: #166534;
    }

    .info {
      background: #eff6ff;
      border-right: 4px solid #2563eb;
      padding: 12px 16px;
      margin: 16px 0;
      color: #1e40af;
    }

    @media (max-width: 600px) {
      .content {
        padding: 20px;
      }

      h1 {
        font-size: 1.7rem;
      }

      h2 {
        font-size: 1.4rem;
      }
    }
  </style>
</head>

<body>
  <div class="page">
    <div class="content">
      <div class="crossnote markdown-preview">
        <div dir="rtl">
          <h1>Ù…ØªÙ‰ ÙˆÙ„Ù…Ø§Ø°Ø§ ÙŠÙ‚ØªÙ„ OS Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§ØªØŸ â˜ ï¸</h1>

          <h2>Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª</h2>
          <p>
            1 - Ø§Ù„ÙÙ„Ø³ÙØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©: Ø¹Ø¯Ù… Ø§Ù„Ø«Ù‚Ø©<br />
            2 - Ø§Ù„ØªØ´Ø¨ÙŠÙ‡ Ø§Ù„ÙˆØ§Ù‚Ø¹ÙŠ: Ø§Ù„Ø­Ø§Ø±Ø³ ÙˆØ§Ù„Ø²ÙˆØ§Ø±<br />
            3 - Ø£Ø³Ø¨Ø§Ø¨ Ø§Ù„Ù‚ØªÙ„: Ù…ØªÙ‰ ÙˆÙ„Ù…Ø§Ø°Ø§ØŸ<br />
            4 - Low Memory Killer ÙÙŠ Android<br />
            5 - OOM Killer ÙÙŠ Linux<br />
            6 - ANR: Application Not Responding<br />
            7 - Crash Handling<br />
            8 - Background Restrictions<br />
            9 - Battery Optimization<br />
            10 - Security: Malicious Apps<br />
            11 - ÙƒÙŠÙ ØªØ­Ù…ÙŠ ØªØ·Ø¨ÙŠÙ‚Ùƒ Ù…Ù† Ø§Ù„Ù‚ØªÙ„ØŸ<br />
            12 - Process Lifecycle ÙÙŠ Android<br />
            13 - Ø£Ù…Ø«Ù„Ø© Ø¹Ù…Ù„ÙŠØ© Ù…Ù† Ø§Ù„ÙˆØ§Ù‚Ø¹<br />
            14 - Ø§Ù„Ø®Ù„Ø§ØµØ© ÙˆØ§Ù„Ù†ØµØ§Ø¦Ø­ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©
          </p>

          <hr />

          <h2>Ø§Ù„ÙÙ„Ø³ÙØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©: Ø¹Ø¯Ù… Ø§Ù„Ø«Ù‚Ø© ğŸ›¡ï¸</h2>

          <h3>Ù„Ù…Ø§Ø°Ø§ OS Ù„Ø§ ÙŠØ«Ù‚ Ø¨Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§ØªØŸ</h3>

          <blockquote>
            <strong>Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø°Ù‡Ø¨ÙŠØ© ÙÙŠ ØªØµÙ…ÙŠÙ… OS:</strong><br />
            <strong>"Ù„Ø§ ØªØ«Ù‚ Ø¨Ø£ÙŠ ØªØ·Ø¨ÙŠÙ‚ØŒ Ø£Ø¨Ø¯Ø§Ù‹!"</strong><br />
            <br />
            Ù„Ù…Ø§Ø°Ø§ØŸ<br />
            â€¢ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù‚Ø¯ ÙŠÙƒÙˆÙ† <strong>buggy</strong> (Ù…Ù„ÙŠØ¡ Ø¨Ø§Ù„Ø£Ø®Ø·Ø§Ø¡)<br />
            â€¢ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù‚Ø¯ ÙŠÙƒÙˆÙ† <strong>malicious</strong> (Ø®Ø¨ÙŠØ«)<br />
            â€¢ Ø§Ù„Ù…Ø¨Ø±Ù…Ø¬ Ù‚Ø¯ ÙŠÙƒÙˆÙ† <strong>inexperienced</strong> (Ù…Ø¨ØªØ¯Ø¦)<br />
            â€¢ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù‚Ø¯ ÙŠÙƒÙˆÙ† <strong>poorly designed</strong> (Ø³ÙŠØ¡ Ø§Ù„ØªØµÙ…ÙŠÙ…)<br />
            <br />
            <strong>â†’ OS Ù…Ø³Ø¤ÙˆÙ„ Ø¹Ù† Ø­Ù…Ø§ÙŠØ©:</strong><br />
            1. Ø§Ù„Ù†Ø¸Ø§Ù… Ù…Ù† Ø§Ù„Ø§Ù†Ù‡ÙŠØ§Ø±<br />
            2. Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ø£Ø®Ø±Ù‰ Ù…Ù† Ø§Ù„ØªØ¯Ø®Ù„<br />
            3. Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ù† ØªØ¬Ø±Ø¨Ø© Ø³ÙŠØ¦Ø©<br />
            4. Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ© Ù…Ù† Ø§Ù„Ø§Ø³ØªÙ†Ø²Ø§Ù<br />
            5. Ø§Ù„Ø°Ø§ÙƒØ±Ø© Ù…Ù† Ø§Ù„Ù†ÙØ§Ø¯<br />
            <br />
            <strong>â†’ Ù„Ø°Ø§ØŒ OS Ù„Ø¯ÙŠÙ‡ ØµÙ„Ø§Ø­ÙŠØ© Ù…Ø·Ù„Ù‚Ø© Ù„Ù‚ØªÙ„ Ø£ÙŠ Process!</strong>
          </blockquote>

          <h3>Ø¹Ù‚Ù„ÙŠØ© OS (Kernel Mindset):</h3>

          <div class="info">
            <strong>ğŸ§  ÙƒÙŠÙ ÙŠÙÙƒØ± Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ´ØºÙŠÙ„ØŸ</strong><br />
            <br />
            <strong>OS ÙŠØ±Ù‰ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª ÙƒÙ€:</strong><br />
            â€¢ <strong>Tenants</strong> (Ù…Ø³ØªØ£Ø¬Ø±ÙŠÙ†) ÙˆÙ„ÙŠØ³ Owners<br />
            â€¢ <strong>Guests</strong> (Ø¶ÙŠÙˆÙ) ÙˆÙ„ÙŠØ³ Hosts<br />
            â€¢ <strong>Workers</strong> (Ø¹Ù…Ø§Ù„) ÙˆÙ„ÙŠØ³ Managers<br />
            <br />
            <strong>OS Ù‡Ùˆ Ø§Ù„Ù…Ø§Ù„Ùƒ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ:</strong><br />
            â€¢ ÙŠÙ…Ù„Ùƒ ÙƒÙ„ Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ (CPU, RAM, Disk, Battery)<br />
            â€¢ ÙŠÙ‚Ø±Ø± Ù…Ù† ÙŠØ­ØµÙ„ Ø¹Ù„Ù‰ Ù…Ø§Ø°Ø§<br />
            â€¢ ÙŠØ±Ø§Ù‚Ø¨ ÙƒÙ„ Ø´ÙŠØ¡<br />
            â€¢ ÙŠÙ‚ØªÙ„ Ù…Ù† ÙŠØ³ÙŠØ¡ Ø§Ù„ØªØµØ±Ù<br />
            <br />
            <strong>â†’ ØªØ·Ø¨ÙŠÙ‚Ùƒ = Guest ÙÙŠ ÙÙ†Ø¯Ù‚ OSØŒ Ù„ÙŠØ³ Ù…Ø§Ù„Ùƒ Ø§Ù„Ø¨ÙŠØª!</strong>
          </div>

          <h3>Trust Boundaries (Ø­Ø¯ÙˆØ¯ Ø§Ù„Ø«Ù‚Ø©):</h3>

          <div dir="ltr">
            <pre>Trust Levels in OS:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Level 0: Kernel (Trusted 100%)              â”‚
â”‚ â€¢ Full hardware access                      â”‚
â”‚ â€¢ Can do anything                           â”‚
â”‚ â€¢ Bugs = System crash                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Level 1: System Services (Highly Trusted)   â”‚
â”‚ â€¢ ActivityManagerService                    â”‚
â”‚ â€¢ WindowManagerService                      â”‚
â”‚ â€¢ PackageManagerService                     â”‚
â”‚ â€¢ Bugs = System instability                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Level 2: System Apps (Trusted)              â”‚
â”‚ â€¢ Phone, Contacts, Settings                 â”‚
â”‚ â€¢ Privileged permissions                    â”‚
â”‚ â€¢ Bugs = App crash (isolated)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Level 3: User Apps (NOT TRUSTED!)           â”‚
â”‚ â€¢ Your app is here!                         â”‚
â”‚ â€¢ Sandboxed, isolated                       â”‚
â”‚ â€¢ Limited permissions                       â”‚
â”‚ â€¢ Bugs = Kill without mercy                 â”‚
â”‚ â€¢ Malicious = Kill + Uninstall              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Key Point: OS treats user apps as UNTRUSTED by default!</pre>
          </div>

          <hr />

          <h2>Ø§Ù„ØªØ´Ø¨ÙŠÙ‡ Ø§Ù„ÙˆØ§Ù‚Ø¹ÙŠ: Ø§Ù„Ø­Ø§Ø±Ø³ ÙˆØ§Ù„Ø²ÙˆØ§Ø± ğŸ›ï¸</h2>

          <h3>ØªØ®ÙŠÙ„ OS ÙƒØ­Ø§Ø±Ø³ Ù…ØªØ­Ù:</h3>

          <div dir="ltr">
            <pre>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Museum (Device)                    â”‚
â”‚              Security Guard (Operating System)       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  Visitors (Apps):                                    â”‚
â”‚  ğŸ‘¤ App A - Well-behaved                             â”‚
â”‚  ğŸ‘¤ App B - Touching exhibits (misbehaving)          â”‚
â”‚  ğŸ‘¤ App C - Blocking doorway (hogging resources)     â”‚
â”‚  ğŸ‘¤ App D - Stealing (malicious)                     â”‚
â”‚  ğŸ‘¤ App E - Sleeping (idle)                          â”‚
â”‚                                                      â”‚
â”‚  Security Guard Rules:                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”‚
â”‚  1. Monitor all visitors constantly                  â”‚
â”‚  2. Remove anyone blocking flow                      â”‚
â”‚  3. Eject troublemakers immediately                  â”‚
â”‚  4. Wake up sleeping visitors or ask them to leave   â”‚
â”‚  5. Prioritize VIP visitors (foreground apps)        â”‚
â”‚  6. Limit crowd size (memory management)             â”‚
â”‚                                                      â”‚
â”‚  Actions Taken:                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€        â”‚
â”‚  App B touching exhibits:                            â”‚
â”‚  â””â”€â†’ Warning (onTrimMemory)                          â”‚
â”‚      â””â”€â†’ If continues â†’ Ejection (Kill!)             â”‚
â”‚                                                      â”‚
â”‚  App C blocking doorway:                             â”‚
â”‚  â””â”€â†’ Immediate ejection (ANR Kill!)                  â”‚
â”‚                                                      â”‚
â”‚  App D stealing:                                     â”‚
â”‚  â””â”€â†’ Permanent ban (Uninstall + Block)               â”‚
â”‚                                                      â”‚
â”‚  Too many visitors (Low Memory):                     â”‚
â”‚  â””â”€â†’ Ask least important to leave                    â”‚
â”‚      (Kill background apps first)                    â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Lesson: OS = Security guard with ZERO tolerance
        Apps = Visitors who can be ejected anytime</pre>
          </div>

          <blockquote>
            <strong>ğŸ¯ Ø§Ù„Ø¯Ø±ÙˆØ³:</strong><br />
            1. <strong>Constant Monitoring:</strong> OS ÙŠØ±Ø§Ù‚Ø¨ ÙƒÙ„ ØªØ·Ø¨ÙŠÙ‚ ÙƒÙ„ Ø§Ù„ÙˆÙ‚Øª<br />
            2. <strong>Zero Tolerance:</strong> Ø£ÙŠ Ø³ÙˆØ¡ ØªØµØ±Ù = Ù‚ØªÙ„ ÙÙˆØ±ÙŠ<br />
            3. <strong>Limited Resources:</strong> Ø¹Ø¯Ø¯ Ù…Ø­Ø¯ÙˆØ¯ Ù…Ù† "Ø§Ù„Ø²ÙˆØ§Ø±" Ù…Ø³Ù…ÙˆØ­<br />
            4. <strong>Priority System:</strong> VIPs (foreground) Ù„Ù‡Ù… Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©<br />
            5. <strong>Preemptive Action:</strong> OS ÙŠÙ‚ØªÙ„ Ù‚Ø¨Ù„ Ù…Ø§ ØªØ­Ø¯Ø« Ù…Ø´ÙƒÙ„Ø© ÙƒØ¨ÙŠØ±Ø©<br />
            6. <strong>No Appeal:</strong> Ø§Ù„Ù‚Ø±Ø§Ø± Ù†Ù‡Ø§Ø¦ÙŠØŒ Ù„Ø§ Ø§Ø³ØªØ¦Ù†Ø§Ù!
          </blockquote>

          <hr />

          <h2>Ø£Ø³Ø¨Ø§Ø¨ Ø§Ù„Ù‚ØªÙ„: Ù…ØªÙ‰ ÙˆÙ„Ù…Ø§Ø°Ø§ØŸ âš°ï¸</h2>

          <h3>Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù„Ù„Ù‚ØªÙ„:</h3>

          <table>
            <thead>
              <tr>
                <th>Ø§Ù„Ø³Ø¨Ø¨</th>
                <th>Ù…ØªÙ‰ ÙŠØ­Ø¯Ø«ØŸ</th>
                <th>Ø§Ù„Ø³Ø±Ø¹Ø©</th>
                <th>ÙŠÙ…ÙƒÙ† ØªØ¬Ù†Ø¨Ù‡ØŸ</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Low Memory</strong></td>
                <td>RAM < 100 MB</td>
                <td>ÙÙˆØ±ÙŠ (< 1s)</td>
                <td>Ø¬Ø²Ø¦ÙŠØ§Ù‹ (Ù‚Ù„Ù„ Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ)</td>
              </tr>
              <tr>
                <td><strong>ANR</strong></td>
                <td>Main Thread block > 5s</td>
                <td>ÙÙˆØ±ÙŠ (dialog â†’ kill)</td>
                <td>Ù†Ø¹Ù… âœ“ (Ù„Ø§ ØªØ¹Ø·Ù„ UI)</td>
              </tr>
              <tr>
                <td><strong>Crash</strong></td>
                <td>Unhandled Exception</td>
                <td>ÙÙˆØ±ÙŠ (< 100ms)</td>
                <td>Ù†Ø¹Ù… âœ“ (fix bugs)</td>
              </tr>
              <tr>
                <td><strong>Background Limit</strong></td>
                <td>App ÙÙŠ background Ø·ÙˆÙŠÙ„Ø§Ù‹</td>
                <td>ØªØ¯Ø±ÙŠØ¬ÙŠ (Ø¯Ù‚Ø§Ø¦Ù‚)</td>
                <td>Ù†Ø¹Ù… âœ“ (WorkManager)</td>
              </tr>
              <tr>
                <td><strong>Battery Saver</strong></td>
                <td>Battery < 15%</td>
                <td>ØªØ¯Ø±ÙŠØ¬ÙŠ</td>
                <td>Ø¬Ø²Ø¦ÙŠØ§Ù‹ (Foreground Service)</td>
              </tr>
              <tr>
                <td><strong>Force Stop</strong></td>
                <td>User action</td>
                <td>ÙÙˆØ±ÙŠ</td>
                <td>Ù„Ø§ âŒ</td>
              </tr>
              <tr>
                <td><strong>Security</strong></td>
                <td>Malicious behavior</td>
                <td>ÙÙˆØ±ÙŠ + uninstall</td>
                <td>Ù„Ø§ âŒ (Ù„Ø§ ØªÙƒÙ† Ø®Ø¨ÙŠØ«!)</td>
              </tr>
            </tbody>
          </table>

          <h3>Ù‡Ø±Ù…ÙŠØ© Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ§Øª (Ù…Ù† ÙŠÙÙ‚ØªÙ„ Ø£ÙˆÙ„Ø§Ù‹):</h3>

          <div dir="ltr">
            <pre>Android Process Priority (OOM Adj Score):

Higher Score = Higher chance of being killed

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ -1000: System Servers (NEVER KILLED)      â”‚
â”‚        â€¢ ActivityManagerService            â”‚
â”‚        â€¢ WindowManagerService              â”‚
â”‚        â€¢ System UI                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†‘ Untouchable

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ -900: Persistent Apps                      â”‚
â”‚       â€¢ Phone app                          â”‚
â”‚       â€¢ Launcher                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†‘ Almost never killed

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ -800: Foreground App (Active)              â”‚
â”‚       â€¢ User currently interacting         â”‚
â”‚       â€¢ Visible on screen                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†‘ Protected (only if desperate)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ -700: Perceptible App                      â”‚
â”‚       â€¢ Playing music                      â”‚
â”‚       â€¢ PiP video                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†‘ High priority

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ -600: Visible App (Not focused)            â”‚
â”‚       â€¢ Dialog in front                    â”‚
â”‚       â€¢ Multi-window visible               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†‘ Medium-high priority

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 0: Service                                 â”‚
â”‚    â€¢ Background service running            â”‚
â”‚    â€¢ Foreground Service (with notification)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†‘ Medium priority

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 200: Home App                              â”‚
â”‚      â€¢ Launcher (when not visible)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†‘ Low-medium priority

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 400-900: Background/Cached Apps            â”‚
â”‚          â€¢ Recently used apps              â”‚
â”‚          â€¢ Sorted by last used time        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†‘ First to be killed!

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 900+: Empty Processes                      â”‚
â”‚       â€¢ No components running              â”‚
â”‚       â€¢ Just cached for fast restart       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†‘ Killed immediately!</pre>
          </div>

          <hr />

          <h2>Low Memory Killer ÙÙŠ Android ğŸ”ª</h2>

          <h3>ÙƒÙŠÙ ÙŠØ¹Ù…Ù„ LMKØŸ</h3>

          <div dir="ltr">
            <pre>Low Memory Killer (LMK) Algorithm:

Trigger: Free RAM < Threshold

Thresholds (typical on 4 GB device):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Critical: < 50 MB   â†’ Kill Cached    â”‚
â”‚ Low:      < 100 MB  â†’ Kill Backgroundâ”‚
â”‚ Medium:   < 150 MB  â†’ Kill Services  â”‚
â”‚ High:     < 200 MB  â†’ Monitor        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Decision Process:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Check free RAM                            â”‚
â”‚    â””â”€â†’ 80 MB (Critical!)                     â”‚
â”‚                                              â”‚
â”‚ 2. List all processes sorted by OOM Adj     â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚    â”‚ PID  â”‚ Name        â”‚ OOM â”‚ RAM      â”‚  â”‚
â”‚    â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚    â”‚ 1234 â”‚ Foreground  â”‚-800 â”‚ 150 MB   â”‚  â”‚
â”‚    â”‚ 2345 â”‚ Music       â”‚-700 â”‚ 50 MB    â”‚  â”‚
â”‚    â”‚ 3456 â”‚ Service     â”‚  0  â”‚ 30 MB    â”‚  â”‚
â”‚    â”‚ 4567 â”‚ Background  â”‚ 400 â”‚ 80 MB    â”‚  â”‚
â”‚    â”‚ 5678 â”‚ Cached      â”‚ 900 â”‚ 120 MB   â”‚  â”‚
â”‚    â”‚ 6789 â”‚ Empty       â”‚ 1000â”‚ 40 MB    â”‚  â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                              â”‚
â”‚ 3. Select victim (highest OOM Adj)           â”‚
â”‚    â””â”€â†’ PID 6789 (Empty, OOM=1000)            â”‚
â”‚                                              â”‚
â”‚ 4. Kill process                              â”‚
â”‚    â””â”€â†’ SIGKILL (instant death, no cleanup)  â”‚
â”‚                                              â”‚
â”‚ 5. Reclaim memory                            â”‚
â”‚    â””â”€â†’ Free: 80 MB + 40 MB = 120 MB âœ“       â”‚
â”‚                                              â”‚
â”‚ 6. Still low? Repeat!                        â”‚
â”‚    â””â”€â†’ Next victim: PID 5678 (Cached)       â”‚
â”‚                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Result:
â€¢ Background apps killed silently
â€¢ No notification to user
â€¢ No cleanup (onDestroy NOT called!)
â€¢ Process just disappears</pre>
          </div>

          <h3>OOM Adj Score Calculation:</h3>

          <div dir="ltr">
            <pre>How Android calculates OOM Adj:

Base Score:
â€¢ Foreground Activity visible: -800
â€¢ Service running: 0
â€¢ Cached: 900

Adjustments:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ + Has recent Activity: -100              â”‚
â”‚ + Playing audio: -700                    â”‚
â”‚ + Foreground Service: -100               â”‚
â”‚ + Bound by foreground app: -200          â”‚
â”‚ + Heavy computation: +100                â”‚
â”‚ + Memory hog: +200                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Example Calculation:
App A:
â€¢ Base: Cached (900)
â€¢ Has recent activity: -100
â€¢ Total: 800
â†’ Will be killed after Empty (1000+)

App B:
â€¢ Base: Service (0)
â€¢ Foreground Service: -100
â€¢ Playing audio: -700
â€¢ Total: -800
â†’ Same as Foreground App! Protected âœ“

Key: Lower score = Higher priority = Less likely to die</pre>
          </div>

          <h3>Ù…Ø±Ø§Ø­Ù„ Ø§Ù„Ù‚ØªÙ„ (Killing Stages):</h3>

          <div dir="ltr">
            <pre>Memory Pressure Stages:

Stage 1: Comfortable (RAM > 500 MB)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ No killing                       â”‚
â”‚ â€¢ Background apps run freely       â”‚
â”‚ â€¢ System smooth                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Stage 2: Moderate (200-500 MB)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ onTrimMemory(TRIM_MEMORY_MODERATE)â”‚
â”‚ â€¢ Apps should release caches       â”‚
â”‚ â€¢ No killing yet (warning only)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Stage 3: Low (100-200 MB)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ onTrimMemory(TRIM_MEMORY_LOW)    â”‚
â”‚ â€¢ Kill Empty processes             â”‚
â”‚ â€¢ Kill old Cached apps             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Stage 4: Critical (< 100 MB)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ onTrimMemory(TRIM_MEMORY_CRITICAL)â”‚
â”‚ â€¢ Kill ALL Cached apps             â”‚
â”‚ â€¢ Kill Background services         â”‚
â”‚ â€¢ Consider killing Visible apps    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Stage 5: Desperate (< 50 MB)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ Kill everything except Foregroundâ”‚
â”‚ â€¢ System may become unstable       â”‚
â”‚ â€¢ User sees "Device is slow"       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</pre>
          </div>

          <div class="warning">
            <strong>âš ï¸ Ù†Ù‚Ø·Ø© Ø­Ø±Ø¬Ø©:</strong><br />
            <strong>LMK Ù„Ø§ ÙŠØ³ØªØ¯Ø¹ÙŠ onDestroy()!</strong><br />
            <br />
            Ø¹Ù†Ø¯ Ø§Ù„Ù‚ØªÙ„ Ø¨ÙˆØ§Ø³Ø·Ø© LMK:<br />
            â€¢ SIGKILL ÙŠÙØ±Ø³Ù„ Ù…Ø¨Ø§Ø´Ø±Ø©<br />
            â€¢ Process ÙŠÙ…ÙˆØª ÙÙˆØ±Ø§Ù‹ (< 100ms)<br />
            â€¢ Ù„Ø§ Lifecycle callbacks<br />
            â€¢ Ù„Ø§ ÙØ±ØµØ© Ù„Ù„ØªÙ†Ø¸ÙŠÙ<br />
            <br />
            <strong>â†’ Ù„Ø°Ø§ØŒ Ø§Ø­ÙØ¸ State Ø¨Ø§Ø³ØªÙ…Ø±Ø§Ø±ØŒ Ù„ÙŠØ³ ÙÙ‚Ø· ÙÙŠ onDestroy!</strong><br />
            <strong>â†’ Ø§Ø³ØªØ®Ø¯Ù… onSaveInstanceState(), ViewModel, Persistent Storage</strong>
          </div>

          <hr />

          <h2>OOM Killer ÙÙŠ Linux ğŸ’€</h2>

          <h3>Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† LMK (Android) Ùˆ OOM Killer (Linux):</h3>

          <table>
            <thead>
              <tr>
                <th>Ø§Ù„Ø¬Ø§Ù†Ø¨</th>
                <th>Android LMK</th>
                <th>Linux OOM Killer</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Ø§Ù„Ù‡Ø¯Ù</strong></td>
                <td>Proactive: Ù…Ù†Ø¹ Ù†ÙØ§Ø¯ RAM</td>
                <td>Reactive: Ø§Ù„Ø°Ø§ÙƒØ±Ø© Ù†ÙØ¯Øª ÙØ¹Ù„Ø§Ù‹!</td>
              </tr>
              <tr>
                <td><strong>Ù…ØªÙ‰ ÙŠØ¹Ù…Ù„ØŸ</strong></td>
                <td>RAM < Threshold (Ù…Ø¨ÙƒØ±)</td>
                <td>RAM = 0ØŒ Allocation ÙØ´Ù„</td>
              </tr>
              <tr>
                <td><strong>Ù…Ù† ÙŠÙÙ‚ØªÙ„ØŸ</strong></td>
                <td>Background apps (OOM Adj)</td>
                <td>Ø£ÙŠ Process (OOM Score)</td>
              </tr>
              <tr>
                <td><strong>Ø§Ù„ØªÙƒØ±Ø§Ø±</strong></td>
                <td>ÙŠØ­Ø¯Ø« ÙƒØ«ÙŠØ±Ø§Ù‹ (ÙŠÙˆÙ…ÙŠØ§Ù‹)</td>
                <td>Ù†Ø§Ø¯Ø± (emergency ÙÙ‚Ø·)</td>
              </tr>
              <tr>
                <td><strong>Ø§Ù„Ø®Ø·ÙˆØ±Ø©</strong></td>
                <td>Ø¹Ø§Ø¯ÙŠØŒ Ù…ØªÙˆÙ‚Ø¹</td>
                <td>Ø®Ø·ÙŠØ±ØŒ Ø¹Ù„Ø§Ù…Ø© Ø¹Ù„Ù‰ Ù…Ø´ÙƒÙ„Ø©</td>
              </tr>
            </tbody>
          </table>

          <h3>Linux OOM Killer Algorithm:</h3>

          <div dir="ltr">
            <pre>OOM Killer (Desktop/Server Linux):

Trigger: Kernel can't allocate memory

OOM Score Calculation:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Score = (RAM_used / RAM_total) * 1000 â”‚
â”‚                                        â”‚
â”‚ Adjustments:                           â”‚
â”‚ + Root processes: -300                 â”‚
â”‚ + Long-running: -100                   â”‚
â”‚ + Recently started: +200               â”‚
â”‚ + High memory consumer: +500           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Example (Desktop):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Process    â”‚ RAM    â”‚ Score â”‚ Action â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ systemd    â”‚ 10 MB  â”‚  -300 â”‚ Skip   â”‚
â”‚ Xorg       â”‚ 200 MB â”‚   100 â”‚ Skip   â”‚
â”‚ Chrome     â”‚ 2 GB   â”‚   900 â”‚ Kill!  â”‚
â”‚ Firefox    â”‚ 1.5 GB â”‚   800 â”‚ Next   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Result:
â€¢ Chrome killed (biggest RAM consumer)
â€¢ User loses all tabs (no save!)
â€¢ System message: "Process was killed"

Difference from Android:
â€¢ Android: Kills BEFORE RAM is full (smart!)
â€¢ Linux: Kills AFTER RAM is full (emergency!)
â€¢ Android: User-friendly (background apps)
â€¢ Linux: Chaotic (might kill important process!)</pre>
          </div>

          <hr />

          <h2>ANR: Application Not Responding ğŸš«</h2>

          <h3>Ù…Ø§ Ù‡Ùˆ ANRØŸ</h3>

          <blockquote>
            <strong>ANR:</strong> Ø¹Ù†Ø¯Ù…Ø§ Main Thread Ù…Ø¹Ø·Ù‘Ù„ Ù„ÙØªØ±Ø© Ø·ÙˆÙŠÙ„Ø© Ø¬Ø¯Ø§Ù‹<br />
            <br />
            <strong>Thresholds:</strong><br />
            â€¢ Input Event: <strong>5 seconds</strong> (Ù…Ù† touch Ø¥Ù„Ù‰ response)<br />
            â€¢ Broadcast Receiver: <strong>10 seconds</strong> (onReceive)<br />
            â€¢ Service: <strong>20 seconds</strong> (onCreate, onStartCommand)<br />
            <br />
            <strong>â†’ OS ÙŠÙØªØ±Ø¶: App crashed Ø£Ùˆ infinite loop!</strong>
          </blockquote>

          <h3>ÙƒÙŠÙ ÙŠÙÙƒØªØ´Ù ANRØŸ</h3>

          <div dir="ltr">
            <pre>ANR Detection Mechanism:

User touches screen:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ T=0ms: Touch event arrives             â”‚
â”‚        â””â”€â†’ OS starts timer (5s)        â”‚
â”‚                                        â”‚
â”‚ T=10ms: Event dispatched to App        â”‚
â”‚         â””â”€â†’ onTouchEvent() called      â”‚
â”‚                                        â”‚
â”‚ App doing something...                 â”‚
â”‚ â”œâ”€ Heavy computation (blocking!)       â”‚
â”‚ â”œâ”€ Network request (blocking!)         â”‚
â”‚ â””â”€ Database query (blocking!)          â”‚
â”‚                                        â”‚
â”‚ T=5000ms: Timer expired!               â”‚
â”‚           â””â”€â†’ Main Thread still busy   â”‚
â”‚               â””â”€â†’ ANR DETECTED! ğŸš¨      â”‚
â”‚                                        â”‚
â”‚ OS Response:                           â”‚
â”‚ 1. Dump thread traces                  â”‚
â”‚ 2. Show ANR dialog to user             â”‚
â”‚    "App isn't responding"              â”‚
â”‚    [Wait] [Close app]                  â”‚
â”‚ 3. If user clicks [Close]:             â”‚
â”‚    â””â”€â†’ SIGKILL (instant death)         â”‚
â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

What causes ANR:
âŒ Thread.sleep() on Main Thread
âŒ Heavy computation (100ms+ loop)
âŒ Synchronous network call
âŒ Synchronous database query
âŒ File I/O on Main Thread
âŒ Bitmap decoding large image
âŒ Deadlock (waiting for lock forever)</pre>
          </div>

          <h3>ANR Traces (Ù…Ø§ ÙŠØ­Ø¯Ø« Ø®Ù„Ù Ø§Ù„ÙƒÙˆØ§Ù„ÙŠØ³):</h3>

          <div dir="ltr">
            <pre>When ANR detected, OS dumps stack traces:

/data/anr/traces.txt:

"main" prio=5 tid=1 Sleeping
  | group="main" sCount=1 dsCount=0 flags=1 obj=0x74b0d080
  | sysTid=12345 nice=-10 cgrp=default sched=0/0
  | state=S schedstat=( 1234567890 0 123 ) utm=100 stm=20
  | held mutexes=
  at java.lang.Thread.sleep(Native Method)
  at com.example.app.MainActivity.onCreate(MainActivity.kt:42)
  at android.app.Activity.performCreate(Activity.java:7224)
  ...

"RenderThread" prio=7 tid=4 Native
  | group="main" sCount=1 dsCount=0 flags=1 obj=0x12d000a0
  | sysTid=12347 nice=-10 cgrp=default sched=0/0
  | state=S schedstat=( 987654321 0 50 ) utm=80 stm=10
  | held mutexes=
  at android.graphics.Canvas.nDrawBitmap(Native Method)
  ...

"Background Thread" prio=5 tid=15 Waiting
  | group="main" sCount=1 dsCount=0 flags=1 obj=0x13a00110
  | sysTid=12360 nice=10 cgrp=background sched=0/0
  | state=S schedstat=( 123456789 0 30 ) utm=10 stm=2
  | held mutexes=
  at java.lang.Object.wait(Native Method)
  - waiting on <0x0ab12345> (a java.lang.Object)
  ...

Analysis:
â€¢ Main Thread: Sleeping (BAD!)
â€¢ Line: MainActivity.kt:42
â€¢ Fix: Move to background thread!</pre>
          </div>

          <h3>Ø£Ù…Ø«Ù„Ø© ANR Ø´Ø§Ø¦Ø¹Ø©:</h3>

          <h4>Ù…Ø«Ø§Ù„ 1: Network Ø¹Ù„Ù‰ Main Thread:</h4>

          <div dir="ltr">
            <pre>// âŒ ANR ÙÙŠ 100% Ù…Ù† Ø§Ù„Ø­Ø§Ù„Ø§Øª!
class MainActivity : AppCompatActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        
        // Main Thread!
        val response = URL("https://api.example.com/data")
            .readText()  // Network I/O - blocks for 2-10 seconds!
        
        textView.text = response
        // ANR Dialog appears! ğŸ’¥
    }
}


// âœ… Ø§Ù„Ø­Ù„: Background thread
class MainActivity : AppCompatActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        
        lifecycleScope.launch(Dispatchers.IO) {
            val response = URL("https://api.example.com/data")
                .readText()  // Ø¹Ù„Ù‰ Background thread âœ“
            
            withContext(Dispatchers.Main) {
                textView.text = response
            }
        }
    }
}</pre>
          </div>

          <h4>Ù…Ø«Ø§Ù„ 2: Heavy Computation:</h4>

          <div dir="ltr">
            <pre>// âŒ ANR Ø¹Ù†Ø¯ Large data
class MainActivity : AppCompatActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        
        // Main Thread!
        val numbers = (1..10_000_000).toList()
        val sum = numbers.sum()  // Takes 5+ seconds!
        
        textView.text = "Sum: $sum"
        // ANR! ğŸ’¥
    }
}


// âœ… Ø§Ù„Ø­Ù„: Background + Progress
class MainActivity : AppCompatActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        
        lifecycleScope.launch {
            showProgress()
            
            val sum = withContext(Dispatchers.Default) {
                (1..10_000_000).sum()  // CPU-intensive work âœ“
            }
            
            hideProgress()
            textView.text = "Sum: $sum"
        }
    }
}</pre>
          </div>

          <h4>Ù…Ø«Ø§Ù„ 3: Synchronous Database:</h4>

          <div dir="ltr">
            <pre>// âŒ ANR Ù…Ø¹ Large database
class MainActivity : AppCompatActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        
        // Main Thread!
        val users = database.userDao().getAllUsers()  // Blocks!
        displayUsers(users)
        // ANR! ğŸ’¥
    }
}


// âœ… Ø§Ù„Ø­Ù„: Room + Coroutines
@Dao
interface UserDao {
    @Query("SELECT * FROM users")
    suspend fun getAllUsers(): List<User>  // suspend = coroutine
}

class MainActivity : AppCompatActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        
        lifecycleScope.launch {
            val users = withContext(Dispatchers.IO) {
                database.userDao().getAllUsers()  // Background âœ“
            }
            displayUsers(users)
        }
    }
}</pre>
          </div>

          <div class="warning">
            <strong>âš ï¸ ANR = User Frustration!</strong><br />
            <br />
            Ø¹Ù†Ø¯Ù…Ø§ ÙŠØ±Ù‰ User dialog "App isn't responding":<br />
            â€¢ 95% ÙŠØ¶ØºØ·ÙˆÙ† [Close app]<br />
            â€¢ Bad review Ø¹Ù„Ù‰ Play Store<br />
            â€¢ Uninstall<br />
            <br />
            <strong>Google Play Console:</strong><br />
            â€¢ ÙŠØ±Ø§Ù‚Ø¨ ANR rate<br />
            â€¢ ANR rate > 0.47% â†’ ØªØ­Ø°ÙŠØ±<br />
            â€¢ ANR rate > 1% â†’ App Ù…Ø±ÙÙˆØ¶ Ù…Ù† Featured!<br />
            <br />
            <strong>â†’ ANR = ÙƒØ§Ø±Ø«Ø© Ù„ØªØ·Ø¨ÙŠÙ‚Ùƒ!</strong>
          </div>

          <hr />

          <h2>Crash Handling ğŸ’¥</h2>

          <h3>Ù…Ø§ ÙŠØ­Ø¯Ø« Ø¹Ù†Ø¯ Crash:</h3>

          <div dir="ltr">
            <pre>Crash Sequence:

App executing:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ fun processData(data: String) {        â”‚
â”‚     val parts = data.split(",")        â”‚
â”‚     val value = parts[5].toInt()       â”‚
â”‚     // â˜ ï¸ ArrayIndexOutOfBoundsException!â”‚
â”‚ }                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Exception Thrown                       â”‚
â”‚ â€¢ No catch block                       â”‚
â”‚ â€¢ Propagates to top                    â”‚
â”‚ â€¢ Reaches Thread.UncaughtExceptionHandlerâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ OS/Runtime catches it:                 â”‚
â”‚ 1. Log exception to logcat             â”‚
â”‚ 2. Call ActivityManager.handleAppCrashâ”‚
â”‚ 3. Show "App has stopped" dialog       â”‚
â”‚ 4. SIGKILL process (instant death)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User sees:                             â”‚
â”‚ "Unfortunately, App has stopped"       â”‚
â”‚ [OK]                                   â”‚
â”‚                                        â”‚
â”‚ App disappears from Recent Apps        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Process killed immediately:
â€¢ onDestroy() NOT called
â€¢ No cleanup
â€¢ State lost (unless saved in onSaveInstanceState)</pre>
          </div>

          <h3>Crash Reporting:</h3>

          <div dir="ltr">
            <pre>Custom Crash Handler:

// Global exception handler
class CrashHandler : Thread.UncaughtExceptionHandler {
    private val defaultHandler = Thread.getDefaultUncaughtExceptionHandler()
    
    override fun uncaughtException(thread: Thread, exception: Throwable) {
        try {
            // Log to file
            val stackTrace = exception.stackTraceToString()
            File("/sdcard/crash.log").writeText(stackTrace)
            
            // Send to server (if network available)
            sendCrashReport(stackTrace)
            
            // Show custom message
            showCrashDialog()
            
        } finally {
            // Let OS handle it (kill process)
            defaultHandler?.uncaughtException(thread, exception)
        }
    }
}

// Setup in Application
class MyApp : Application() {
    override fun onCreate() {
        super.onCreate()
        Thread.setDefaultUncaughtExceptionHandler(CrashHandler())
    }
}


// Better: Use crash reporting library
dependencies {
    implementation 'com.google.firebase:firebase-crashlytics:18.6.0'
}

// Automatic crash reporting!
// â†’ Stack traces sent to Firebase
// â†’ Grouped by similar crashes
// â†’ Priority based on affected users</pre>
          </div>

          <h3>Ø£Ù†ÙˆØ§Ø¹ Crashes:</h3>

          <table>
            <thead>
              <tr>
                <th>Ø§Ù„Ù†ÙˆØ¹</th>
                <th>Ø§Ù„Ø³Ø¨Ø¨</th>
                <th>Ù…Ø«Ø§Ù„</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>NullPointerException</strong></td>
                <td>Null reference</td>
                <td>textView.text = "Hi" // textView = null</td>
              </tr>
              <tr>
                <td><strong>OutOfMemoryError</strong></td>
                <td>Heap full</td>
                <td>Load 100 large images</td>
              </tr>
              <tr>
                <td><strong>StackOverflowError</strong></td>
                <td>Infinite recursion</td>
                <td>fun f() { f() } // No base case</td>
              </tr>
              <tr>
                <td><strong>SecurityException</strong></td>
                <td>No permission</td>
                <td>Access location without permission</td>
              </tr>
              <tr>
                <td><strong>ClassCastException</strong></td>
                <td>Wrong type cast</td>
                <td>val x = obj as String // obj is Int</td>
              </tr>
              <tr>
                <td><strong>Native Crash</strong></td>
                <td>JNI/NDK error</td>
                <td>Segmentation fault in C++ code</td>
              </tr>
            </tbody>
          </table>

          <hr />

          <h2>Background Restrictions ğŸš§</h2>

          <h3>Android Background Execution Limits:</h3>

          <div dir="ltr">
            <pre>Evolution of Background Restrictions:

Android 6 (Marshmallow):
â€¢ Doze Mode: deep sleep when idle
â€¢ App Standby: unused apps limited

Android 7 (Nougat):
â€¢ Doze on the go: even when moving
â€¢ Background services limited

Android 8 (Oreo): ğŸ”¨ MAJOR CHANGE!
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Background Execution Limits:           â”‚
â”‚ â€¢ Service can't run in background      â”‚
â”‚ â€¢ Must use Foreground Service          â”‚
â”‚   (with notification)                  â”‚
â”‚ â€¢ Or use JobScheduler/WorkManager      â”‚
â”‚                                        â”‚
â”‚ If violated:                           â”‚
â”‚ â””â”€â†’ IllegalStateException              â”‚
â”‚     â””â”€â†’ Crash! ğŸ’¥                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Android 9 (Pie):
â€¢ Battery Saver more aggressive
â€¢ App Standby Buckets introduced

Android 10 (Q):
â€¢ Background location limited
â€¢ Scoped Storage enforced

Android 11 (R):
â€¢ Background Service killed after 5 min
â€¢ Must use WorkManager

Android 12+ (S+):
â€¢ Exact Alarms need permission
â€¢ Foreground Service types required</pre>
          </div>

          <h3>Background Service Killing:</h3>

          <div dir="ltr">
            <pre>Scenario: Background Service

App goes to background:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ T=0s: User presses Home                â”‚
â”‚       â””â”€â†’ App state: Background        â”‚
â”‚           Service still running        â”‚
â”‚                                        â”‚
â”‚ T=1min: OS checks:                     â”‚
â”‚         Is this Foreground Service?    â”‚
â”‚         â””â”€â†’ No: Regular service        â”‚
â”‚             â””â”€â†’ Mark for killing       â”‚
â”‚                                        â”‚
â”‚ T=5min: Service still running?         â”‚
â”‚         â””â”€â†’ Yes: Kill it! ğŸ”ª           â”‚
â”‚             â””â”€â†’ onDestroy() NOT called â”‚
â”‚                                        â”‚
â”‚ App tries to restart Service:          â”‚
â”‚ â””â”€â†’ startService() called              â”‚
â”‚     â””â”€â†’ IllegalStateException! ğŸ’¥      â”‚
â”‚         "Not allowed to start service"â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


âŒ Wrong approach:
class BackgroundService : Service() {
    override fun onStartCommand(...): Int {
        thread {
            while (true) {
                syncData()  // Runs forever
                Thread.sleep(60000)
            }
        }
        return START_STICKY
    }
}
// Killed after 5 minutes in background!


âœ… Correct approach:
class SyncWorker(context: Context, params: WorkerParameters)
    : CoroutineWorker(context, params) {
    
    override suspend fun doWork(): Result {
        syncData()
        return Result.success()
    }
}

// Schedule with WorkManager
val workRequest = PeriodicWorkRequestBuilder<SyncWorker>(
    repeatInterval = 15,
    repeatIntervalTimeUnit = TimeUnit.MINUTES
).setConstraints(
    Constraints.Builder()
        .setRequiredNetworkType(NetworkType.CONNECTED)
        .build()
).build()

WorkManager.getInstance(context).enqueue(workRequest)

// OS manages scheduling, battery optimization âœ“</pre>
          </div>

          <h3>Foreground Service (Ø§Ù„Ù†Ø¬Ø§Ø© Ù…Ù† Ø§Ù„Ù‚ØªÙ„):</h3>

          <div dir="ltr">
            <pre>Foreground Service: Protected from killing

Requirements:
1. Must show notification (mandatory!)
2. Must declare type in manifest
3. User must be aware it's running

Example: Music Player

class MusicService : Service() {
    override fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {
        // Create notification
        val notification = NotificationCompat.Builder(this, CHANNEL_ID)
            .setContentTitle("Playing: Song Name")
            .setContentText("Artist Name")
            .setSmallIcon(R.drawable.ic_music)
            .build()
        
        // Promote to Foreground Service
        startForeground(NOTIFICATION_ID, notification)
        
        // Now protected from killing! âœ“
        playMusic()
        
        return START_STICKY
    }
}

// In manifest:
<service android:name=".MusicService"
         android:foregroundServiceType="mediaPlayback" />

Benefits:
â€¢ OOM Adj Score: -800 (same as Foreground App!)
â€¢ Won't be killed unless desperate
â€¢ Can run indefinitely
â€¢ User knows it's running (notification)

Drawbacks:
â€¢ Must show notification (can't hide)
â€¢ User can swipe notification â†’ Service stops
â€¢ Drains battery if not careful</pre>
          </div>

          <hr />

          <h2>Battery Optimization âš¡</h2>

          <h3>Battery Saver Mode:</h3>

          <div dir="ltr">
            <pre>Battery Levels & Restrictions:

Battery: 100% - 20%
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Normal operation                   â”‚
â”‚ â€¢ All features work                â”‚
â”‚ â€¢ Background apps run normally     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Battery: 20% - 15%
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Low battery warning                â”‚
â”‚ â€¢ Notification shown               â”‚
â”‚ â€¢ User can enable Battery Saver    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Battery: < 15%
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Battery Saver Auto-Enabled         â”‚
â”‚ Restrictions:                      â”‚
â”‚ â€¢ Background sync stopped          â”‚
â”‚ â€¢ Location services limited        â”‚
â”‚ â€¢ Vibration disabled               â”‚
â”‚ â€¢ Visual effects reduced           â”‚
â”‚ â€¢ CPU throttled                    â”‚
â”‚ â€¢ Background apps killed more!     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Battery: < 5%
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Extreme Battery Saver              â”‚
â”‚ â€¢ Only Phone & SMS work            â”‚
â”‚ â€¢ Almost all apps killed           â”‚
â”‚ â€¢ Only Foreground app survives     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</pre>
          </div>

          <h3>Doze Mode (Deep Sleep):</h3>

          <div dir="ltr">
            <pre>Doze Mode: Aggressive battery saving

Activation: Device idle (screen off, stationary, unplugged)

Timeline:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Screen OFF                                 â”‚
â”‚ T=0min:  Normal (apps can run)             â”‚
â”‚                                            â”‚
â”‚ T=30min: Light Doze                        â”‚
â”‚          â€¢ Network access delayed          â”‚
â”‚          â€¢ Wakelocks ignored               â”‚
â”‚                                            â”‚
â”‚ T=1hr:   Deep Doze ğŸ˜´                      â”‚
â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚          â”‚ MAINTENANCE WINDOW (5 min)  â”‚  â”‚
â”‚          â”‚ â€¢ Apps can sync             â”‚  â”‚
â”‚          â”‚ â€¢ Pending work executed     â”‚  â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                            â”‚
â”‚ T=2hr:   Deep Doze (longer)                â”‚
â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚          â”‚ MAINTENANCE WINDOW (5 min)  â”‚  â”‚
â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                            â”‚
â”‚ T=4hr:   Deep Doze (even longer)           â”‚
â”‚          â€¢ Maintenance windows get         â”‚
â”‚            further apart                   â”‚
â”‚                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

During Deep Doze:
âŒ Network access blocked
âŒ Wakelocks ignored
âŒ Alarms deferred
âŒ GPS/Wi-Fi scans disabled
âŒ JobScheduler deferred
âŒ Background sync stopped

Exemptions:
âœ“ High-priority FCM messages
âœ“ Foreground Services (still work!)
âœ“ Exact alarms (with permission)

Exit Doze:
â€¢ Screen ON
â€¢ Device moved
â€¢ Device charging</pre>
          </div>

          <h3>App Standby Buckets:</h3>

          <div dir="ltr">
            <pre>Android categorizes apps into buckets:

Active (Bucket 0):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ Currently in use                 â”‚
â”‚ â€¢ No restrictions                  â”‚
â”‚ â€¢ Full network, jobs, alarms       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Working Set (Bucket 10):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ Used regularly (daily)           â”‚
â”‚ â€¢ Minor restrictions               â”‚
â”‚ â€¢ Jobs run frequently              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Frequent (Bucket 20):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ Used often (every few days)      â”‚
â”‚ â€¢ Moderate restrictions            â”‚
â”‚ â€¢ Jobs run less often              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Rare (Bucket 30):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ Rarely used (once a week or less)â”‚
â”‚ â€¢ Heavy restrictions               â”‚
â”‚ â€¢ Jobs run very rarely             â”‚
â”‚ â€¢ More likely to be killed         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Never (Bucket 50):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ Never used or just installed     â”‚
â”‚ â€¢ Severe restrictions              â”‚
â”‚ â€¢ Almost no background activity    â”‚
â”‚ â€¢ Killed aggressively              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Bucket determines:
â€¢ Job execution frequency
â€¢ Network access timing
â€¢ Alarm delivery
â€¢ Killing priority</pre>
          </div>

          <hr />

          <h2>Security: Malicious Apps ğŸ¦ </h2>

          <h3>ÙƒÙŠÙ ÙŠÙƒØªØ´Ù OS Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ø®Ø¨ÙŠØ«Ø©ØŸ</h3>

          <div dir="ltr">
            <pre>Security Monitoring:

Google Play Protect (on-device scanner):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. App Install                         â”‚
â”‚    â””â”€â†’ Scan APK for known malware      â”‚
â”‚        â””â”€â†’ Block if malicious          â”‚
â”‚                                        â”‚
â”‚ 2. Daily Scans                         â”‚
â”‚    â””â”€â†’ All installed apps scanned      â”‚
â”‚        â””â”€â†’ 50+ billion apps/day        â”‚
â”‚                                        â”‚
â”‚ 3. Behavior Monitoring                 â”‚
â”‚    â””â”€â†’ Unusual permission use          â”‚
â”‚    â””â”€â†’ High network activity           â”‚
â”‚    â””â”€â†’ Crypto mining patterns          â”‚
â”‚    â””â”€â†’ Phishing attempts               â”‚
â”‚                                        â”‚
â”‚ 4. Cloud Analysis                      â”‚
â”‚    â””â”€â†’ ML models detect new threats    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Malicious Behaviors Detected:
âŒ Excessive background activity
âŒ Requesting dangerous permissions
âŒ Accessing contacts without reason
âŒ Sending SMS to premium numbers
âŒ Crypto mining (high CPU usage)
âŒ Keylogging attempts
âŒ Screen recording without permission
âŒ Accessibility abuse

Actions Taken:
1. Warning notification
2. Disable app
3. Uninstall automatically
4. Report to Google
5. Block developer</pre>
          </div>

          <h3>Ø£Ù…Ø«Ù„Ø© Ø³Ù„ÙˆÙƒ Ø®Ø¨ÙŠØ«:</h3>

          <div dir="ltr">
            <pre>Example 1: Crypto Miner

Behavior detected:
â€¢ CPU usage: 100% constantly
â€¢ Battery drain: severe
â€¢ Device gets hot
â€¢ Happens in background

OS Response:
â””â”€â†’ Classify as malicious
    â””â”€â†’ Kill process
        â””â”€â†’ Show warning
            â””â”€â†’ Suggest uninstall


Example 2: Spyware

Behavior detected:
â€¢ Accessing contacts every 5 minutes
â€¢ Reading SMS messages
â€¢ Recording audio without user action
â€¢ Uploading data to unknown server

OS Response:
â””â”€â†’ Immediate kill
    â””â”€â†’ Disable app
        â””â”€â†’ Notify user
            â””â”€â†’ Report to Play Protect


Example 3: Adware

Behavior detected:
â€¢ Showing ads outside app
â€¢ Opening browser automatically
â€¢ Installing other apps
â€¢ Requesting overlay permission abuse

OS Response:
â””â”€â†’ Kill + Uninstall
    â””â”€â†’ Block developer
        â””â”€â†’ Remove from Play Store</pre>
          </div>

          <hr />

          <h2>ÙƒÙŠÙ ØªØ­Ù…ÙŠ ØªØ·Ø¨ÙŠÙ‚Ùƒ Ù…Ù† Ø§Ù„Ù‚ØªÙ„ØŸ ğŸ›¡ï¸</h2>

          <h3>Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©:</h3>

          <h4>1. Ø§Ø³ØªØ®Ø¯Ù… Lifecycle Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­:</h4>

          <div dir="ltr">
            <pre>// âœ… Save state constantly
class MainActivity : AppCompatActivity() {
    private val viewModel: MyViewModel by viewModels()
    
    override fun onSaveInstanceState(outState: Bundle) {
        super.onSaveInstanceState(outState)
        
        // Save UI state (always called before kill!)
        outState.putString("user_input", editText.text.toString())
        outState.putInt("scroll_position", recyclerView.scrollY)
    }
    
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        
        // Restore state
        savedInstanceState?.let {
            val userInput = it.getString("user_input", "")
            val scrollPos = it.getInt("scroll_position", 0)
            
            editText.setText(userInput)
            recyclerView.scrollY = scrollPos
        }
    }
    
    override fun onStop() {
        super.onStop()
        
        // Save to persistent storage
        viewModel.saveDataToDatabase()
    }
}</pre>
          </div>

          <h4>2. Ø§Ø³ØªØ®Ø¯Ù… Foreground Service Ù„Ù„Ø¹Ù…Ù„ Ø§Ù„Ù…Ù‡Ù…:</h4>

          <div dir="ltr">
            <pre>// âœ… Protected from killing
class DownloadService : Service() {
    override fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {
        val notification = createNotification("Downloading...")
        startForeground(NOTIFICATION_ID, notification)
        
        // Now protected! âœ“
        downloadFiles()
        
        return START_NOT_STICKY  // Don't restart if killed
    }
    
    private fun downloadFiles() {
        GlobalScope.launch(Dispatchers.IO) {
            files.forEach { file ->
                download(file)
                updateNotification("Downloading ${file.name}...")
            }
            stopForeground(true)
            stopSelf()
        }
    }
}

// Manifest:
<service android:name=".DownloadService"
         android:foregroundServiceType="dataSync" /></pre>
          </div>

          <h4>3. Ø§Ø³ØªØ®Ø¯Ù… WorkManager Ù„Ù„Ø¹Ù…Ù„ Ø§Ù„Ø®Ù„ÙÙŠ:</h4>

          <div dir="ltr">
            <pre>// âœ… Battery-efficient, respects Doze
class SyncWorker(context: Context, params: WorkerParameters)
    : CoroutineWorker(context, params) {
    
    override suspend fun doWork(): Result {
        return try {
            syncData()
            Result.success()
        } catch (e: Exception) {
            if (runAttemptCount < 3) {
                Result.retry()  // OS will retry later
            } else {
                Result.failure()
            }
        }
    }
}

// Schedule intelligently
val constraints = Constraints.Builder()
    .setRequiredNetworkType(NetworkType.CONNECTED)
    .setRequiresBatteryNotLow(true)  // Don't drain battery
    .build()

val workRequest = PeriodicWorkRequestBuilder<SyncWorker>(
    repeatInterval = 1,
    repeatIntervalTimeUnit = TimeUnit.HOURS
)
    .setConstraints(constraints)
    .setBackoffCriteria(
        BackoffPolicy.EXPONENTIAL,
        10, TimeUnit.MINUTES
    )
    .build()

WorkManager.getInstance(context).enqueue(workRequest)</pre>
          </div>

          <h4>4. Ø§Ø³ØªØ¬Ø¨ Ù„Ù€ Memory Pressure:</h4>

          <div dir="ltr">
            <pre>// âœ… Be a good citizen
class MainActivity : AppCompatActivity() {
    private val imageCache = LruCache<String, Bitmap>(...)
    
    override fun onTrimMemory(level: Int) {
        super.onTrimMemory(level)
        
        when (level) {
            TRIM_MEMORY_RUNNING_LOW -> {
                // Moderate pressure: trim 25% of cache
                imageCache.trimToSize(imageCache.size() * 3 / 4)
            }
            
            TRIM_MEMORY_RUNNING_CRITICAL -> {
                // Critical: clear all non-essential caches
                imageCache.evictAll()
                clearAllCaches()
            }
            
            TRIM_MEMORY_BACKGROUND -> {
                // App in background: clear everything
                imageCache.evictAll()
                releaseHeavyResources()
            }
        }
    }
}</pre>
          </div>

          <h4>5. ØªØ¬Ù†Ø¨ ANR:</h4>

          <div dir="ltr">
            <pre>// âœ… Never block Main Thread
class MainActivity : AppCompatActivity() {
    
    // âœ… Rule 1: All I/O on background
    private suspend fun loadData() = withContext(Dispatchers.IO) {
        database.loadData()
    }
    
    // âœ… Rule 2: Heavy computation on background
    private suspend fun processImage(bitmap: Bitmap) = 
        withContext(Dispatchers.Default) {
            // CPU-intensive work
            applyFilters(bitmap)
        }
    
    // âœ… Rule 3: Network on background
    private suspend fun fetchData() = withContext(Dispatchers.IO) {
        api.getData()
    }
    
    // âœ… Rule 4: Use structured concurrency
    fun loadUserData() {
        lifecycleScope.launch {
            try {
                showLoading()
                val data = loadData()  // suspend, doesn't block
                displayData(data)      // Main Thread safe
            } catch (e: Exception) {
                showError(e)
            } finally {
                hideLoading()
            }
        }
    }
}</pre>
          </div>

          <h3>Ù…Ø§ Ù„Ø§ ÙŠØ¬Ø¨ ÙØ¹Ù„Ù‡:</h3>

          <div class="warning">
            <strong>âŒ Ù…Ø­Ø§ÙˆÙ„Ø§Øª ÙØ§Ø´Ù„Ø© Ù„ØªØ¬Ù†Ø¨ Ø§Ù„Ù‚ØªÙ„:</strong><br />
            <br />
            <strong>1. Persistent Service with START_STICKY:</strong><br />
            â€¢ OS ÙŠÙ‚ØªÙ„Ù‡ Ø¨Ø¹Ø¯ 5 Ø¯Ù‚Ø§Ø¦Ù‚ ÙÙŠ background<br />
            â€¢ Ù„Ø§ ÙŠÙØ¹Ø§Ø¯ ØªØ´ØºÙŠÙ„Ù‡ ÙÙŠ Doze Mode<br />
            <br />
            <strong>2. Wakelocks:</strong><br />
            â€¢ ØªÙØªØ¬Ø§Ù‡Ù„ ÙÙŠ Doze Mode<br />
            â€¢ ØªØ³ØªÙ†Ø²Ù Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ© â†’ User uninstall<br />
            <br />
            <strong>3. Alarm Manager Ù„Ù„Ø¹Ù…Ù„ Ø§Ù„Ø¯ÙˆØ±ÙŠ:</strong><br />
            â€¢ Alarms ØªÙØ¤Ø¬Ù„ ÙÙŠ Doze<br />
            â€¢ Ù„Ø§ ØªØ¹Ù…Ù„ Ø¨Ø¯Ù‚Ø©<br />
            <br />
            <strong>4. Hidden Foreground Service (notification invisible):</strong><br />
            â€¢ Google Play ÙŠØ±ÙØ¶ App<br />
            â€¢ User ÙŠØ´Ø¹Ø± Ø¨Ø§Ù„Ø®Ø¯Ø§Ø¹<br />
            <br />
            <strong>5. Multiple Processes:</strong><br />
            â€¢ ÙƒÙ„Ù‡Ù… Ø³ÙŠÙÙ‚ØªÙ„ÙˆÙ† ÙÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ©<br />
            â€¢ ÙŠØ²ÙŠØ¯ Memory usage â†’ Ù‚ØªÙ„ Ø£Ø³Ø±Ø¹!<br />
            <br />
            <strong>â†’ Ø§Ù„Ø­Ù„ Ø§Ù„ÙˆØ­ÙŠØ¯: Ø§Ø­ØªØ±Ù… Ø§Ù„Ù†Ø¸Ø§Ù… ÙˆØ§Ø³ØªØ®Ø¯Ù… APIs Ø§Ù„ØµØ­ÙŠØ­Ø©!</strong>
          </div>

          <hr />

          <h2>Process Lifecycle ÙÙŠ Android ğŸ”„</h2>

          <h3>Ø¯ÙˆØ±Ø© Ø§Ù„Ø­ÙŠØ§Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø©:</h3>

          <div dir="ltr">
            <pre>Process Lifecycle with Killing Points:

1. App Launch:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ OS creates new process             â”‚
   â”‚ â””â”€â†’ Zygote fork                    â”‚
   â”‚     â””â”€â†’ Load app code              â”‚
   â”‚         â””â”€â†’ onCreate() called      â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

2. Foreground (Active):
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Priority: -800 (High)              â”‚
   â”‚ â€¢ User interacting                 â”‚
   â”‚ â€¢ UI responsive                    â”‚
   â”‚ â€¢ Full resources                   â”‚
   â”‚ Kill probability: < 1% âœ“           â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

3. Visible (Partially covered):
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Priority: -600 (Medium-High)       â”‚
   â”‚ â€¢ Dialog in front                  â”‚
   â”‚ â€¢ Multi-window visible             â”‚
   â”‚ Kill probability: < 5%             â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

4. Service Running:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Priority: 0 (Medium)               â”‚
   â”‚ â€¢ Background service               â”‚
   â”‚ â€¢ No UI visible                    â”‚
   â”‚ Kill probability: 20-30%           â”‚
   â”‚                                    â”‚
   â”‚ â± Timer: 5 minutes                â”‚
   â”‚ â””â”€â†’ If still running: KILL! ğŸ”ª     â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

5. Background (Cached):
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Priority: 400-900 (Low)            â”‚
   â”‚ â€¢ User pressed Home/Back           â”‚
   â”‚ â€¢ onStop() called                  â”‚
   â”‚ â€¢ Process cached for fast restart  â”‚
   â”‚ Kill probability: 60-80%           â”‚
   â”‚                                    â”‚
   â”‚ Triggers for kill:                 â”‚
   â”‚ â€¢ Low memory                       â”‚
   â”‚ â€¢ Not used for 30 min              â”‚
   â”‚ â€¢ Too many cached processes        â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

6. Empty (No components):
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Priority: 1000 (Lowest)            â”‚
   â”‚ â€¢ All activities destroyed         â”‚
   â”‚ â€¢ Process kept for fast restart    â”‚
   â”‚ Kill probability: 95%              â”‚
   â”‚                                    â”‚
   â”‚ Killed when:                       â”‚
   â”‚ â€¢ Memory needed                    â”‚
   â”‚ â€¢ Immediately if RAM low           â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

7. Process Death:
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ SIGKILL received                   â”‚
   â”‚ â€¢ Instant termination              â”‚
   â”‚ â€¢ No onDestroy() callback          â”‚
   â”‚ â€¢ All state lost (unless saved)    â”‚
   â”‚ â€¢ Removed from memory              â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

8. Cold Start (if user returns):
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Create new process (slow!)         â”‚
   â”‚ â€¢ 500ms - 2s startup               â”‚
   â”‚ â€¢ Restore savedInstanceState       â”‚
   â”‚ â€¢ Load from Database/SharedPrefs   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</pre>
          </div>

          <hr />

          <h2>Ø£Ù…Ø«Ù„Ø© Ø¹Ù…Ù„ÙŠØ© Ù…Ù† Ø§Ù„ÙˆØ§Ù‚Ø¹ ğŸ’¡</h2>

          <h3>Ù…Ø«Ø§Ù„ 1: Music Player Survival</h3>

          <div dir="ltr">
            <pre>// Music player must survive!

class MusicPlayerService : Service() {
    private lateinit var mediaPlayer: MediaPlayer
    
    override fun onStartCommand(intent: Intent?, flags: Int, startId: Int): Int {
        when (intent?.action) {
            ACTION_PLAY -> {
                // 1. Create notification
                val notification = createMusicNotification()
                
                // 2. Promote to Foreground Service
                startForeground(NOTIFICATION_ID, notification)
                // Now OOM Adj = -800 (protected!) âœ“
                
                // 3. Play music
                mediaPlayer.start()
            }
            
            ACTION_PAUSE -> {
                mediaPlayer.pause()
                // Stay in foreground (notification persists)
            }
            
            ACTION_STOP -> {
                mediaPlayer.stop()
                stopForeground(true)  // Remove notification
                stopSelf()  // Allow killing
            }
        }
        
        return START_STICKY  // Restart if killed
    }
    
    override fun onTaskRemoved(rootIntent: Intent?) {
        // User swiped away from Recents
        // Decision: Stop music or continue?
        
        if (preferences.getBoolean("continue_on_swipe", false)) {
            // Continue playing (some users want this)
        } else {
            stopSelf()  // Stop service
        }
    }
}

Result:
â€¢ Foreground Service = protected from LMK
â€¢ Notification = user awareness
â€¢ Can play for hours without killing âœ“
â€¢ Battery: managed by user (can swipe notification)</pre>
          </div>

          <h3>Ù…Ø«Ø§Ù„ 2: Download Manager Resilience</h3>

          <div dir="ltr">
            <pre>// Download must complete even if killed

class DownloadManager(private val context: Context) {
    
    fun startDownload(url: String, filename: String) {
        // Don't use Service! Use WorkManager
        
        val data = Data.Builder()
            .putString("url", url)
            .putString("filename", filename)
            .build()
        
        val constraints = Constraints.Builder()
            .setRequiredNetworkType(NetworkType.CONNECTED)
            .setRequiresBatteryNotLow(true)
            .build()
        
        val downloadWork = OneTimeWorkRequestBuilder<DownloadWorker>()
            .setInputData(data)
            .setConstraints(constraints)
            .setBackoffCriteria(
                BackoffPolicy.EXPONENTIAL,
                10, TimeUnit.SECONDS
            )
            .build()
        
        WorkManager.getInstance(context)
            .enqueueUniqueWork(
                "download_$filename",
                ExistingWorkPolicy.KEEP,
                downloadWork
            )
    }
}

class DownloadWorker(context: Context, params: WorkerParameters)
    : CoroutineWorker(context, params) {
    
    override suspend fun doWork(): Result {
        val url = inputData.getString("url") ?: return Result.failure()
        val filename = inputData.getString("filename") ?: return Result.failure()
        
        return try {
            // Set foreground (shows notification)
            setForeground(createForegroundInfo())
            
            // Download with resume support
            downloadWithResume(url, filename)
            
            Result.success()
            
        } catch (e: Exception) {
            if (runAttemptCount < 3) {
                Result.retry()  // OS will retry later
            } else {
                Result.failure()
            }
        }
    }
    
    private suspend fun downloadWithResume(url: String, filename: String) {
        val file = File(context.filesDir, filename)
        val existingSize = if (file.exists()) file.length() else 0L
        
        // HTTP Range header for resume
        val connection = URL(url).openConnection() as HttpURLConnection
        connection.setRequestProperty("Range", "bytes=$existingSize-")
        
        // Download remaining bytes
        connection.inputStream.use { input ->
            file.outputStream().use { output ->
                output.channel.position(existingSize)  // Resume
                input.copyTo(output)
            }
        }
    }
}

Benefits:
â€¢ WorkManager = OS manages scheduling
â€¢ Survives process death âœ“
â€¢ Respects Doze Mode
â€¢ Retries on failure
â€¢ Resume support
â€¢ Battery-friendly</pre>
          </div>

          <h3>Ù…Ø«Ø§Ù„ 3: Banking App Security</h3>

          <div dir="ltr">
            <pre>// Banking app: Security-first approach

class BankingActivity : AppCompatActivity() {
    
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        
        // Session timeout: 5 minutes
        startSessionTimer()
    }
    
    override fun onStop() {
        super.onStop()
        
        // App going to background
        // Security decision: Lock or allow?
        
        if (preferences.getBoolean("lock_on_background", true)) {
            // Clear sensitive data
            clearSensitiveData()
            
            // Lock session
            SessionManager.lock()
            
            // Next time onStart: require authentication
        }
    }
    
    override fun onDestroy() {
        super.onDestroy()
        
        // Might not be called (if killed by LMK)!
        // So we clear data in onStop too
    }
    
    private fun clearSensitiveData() {
        // Clear from memory
        balanceTextView.text = "****"
        accountNumber = null
        
        // Clear from ViewModel
        viewModel.clearSession()
        
        // Don't save to savedInstanceState
        // (user must re-authenticate)
    }
    
    override fun onSaveInstanceState(outState: Bundle) {
        super.onSaveInstanceState(outState)
        
        // Don't save sensitive data!
        // Only save: which screen user was on
        outState.putString("last_screen", "home")
        // NOT balance, NOT account number
    }
    
    override fun onRestoreInstanceState(savedInstanceState: Bundle) {
        super.onRestoreInstanceState(savedInstanceState)
        
        // Check if session still valid
        if (!SessionManager.isValid()) {
            // Require re-authentication
            startActivity(Intent(this, LoginActivity::class.java))
            finish()
        }
    }
}

Result:
â€¢ Security first: data cleared on background
â€¢ Process kill = automatic lock âœ“
â€¢ User must re-authenticate
â€¢ No sensitive data in savedInstanceState
â€¢ Compliant with banking regulations</pre>
          </div>

          <hr />

          <h2>Ø§Ù„Ø®Ù„Ø§ØµØ© ÙˆØ§Ù„Ù†ØµØ§Ø¦Ø­ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© ğŸ“</h2>

          <h3>Ù…Ù„Ø®Øµ Ø£Ø³Ø¨Ø§Ø¨ Ø§Ù„Ù‚ØªÙ„:</h3>

          <table>
            <thead>
              <tr>
                <th>Ø§Ù„Ø³Ø¨Ø¨</th>
                <th>Ù…ØªÙ‰ØŸ</th>
                <th>ÙƒÙŠÙ ØªØªØ¬Ù†Ø¨Ù‡ØŸ</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><strong>Low Memory</strong></td>
                <td>RAM Ù†ÙØ¯</td>
                <td>Ù‚Ù„Ù„ Ø§Ø³ØªÙ‡Ù„Ø§ÙƒØŒ Ø§Ø³ØªØ¬Ø¨ onTrimMemory</td>
              </tr>
              <tr>
                <td><strong>ANR</strong></td>
                <td>UI Ù…Ø¹Ø·Ù„ 5s+</td>
                <td>Ù„Ø§ ØªØ¹Ø·Ù„ Main Thread Ø£Ø¨Ø¯Ø§Ù‹!</td>
              </tr>
              <tr>
                <td><strong>Crash</strong></td>
                <td>Exception ØºÙŠØ± Ù…Ø¹Ø§Ù„Ø¬</td>
                <td>Handle errorsØŒ test Ø¬ÙŠØ¯Ø§Ù‹</td>
              </tr>
              <tr>
                <td><strong>Background</strong></td>
                <td>App ÙÙŠ background Ø·ÙˆÙŠÙ„Ø§Ù‹</td>
                <td>WorkManagerØŒ Foreground Service</td>
              </tr>
              <tr>
                <td><strong>Battery</strong></td>
                <td>Battery Saver Ù†Ø´Ø·</td>
                <td>Ù‚Ù„Ù„ Background work</td>
              </tr>
              <tr>
                <td><strong>User</strong></td>
                <td>Force Stop</td>
                <td>Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØ¬Ù†Ø¨Ù‡ (Ø­Ù‚ User)</td>
              </tr>
            </tbody>
          </table>

          <h3>Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø°Ù‡Ø¨ÙŠØ©:</h3>

          <div dir="ltr">
            <pre>âœ“ OS Ù„Ø§ ÙŠØ«Ù‚ Ø¨Ø£ÙŠ ØªØ·Ø¨ÙŠÙ‚ â†’ ÙŠØ±Ø§Ù‚Ø¨ ÙƒÙ„ Ø´ÙŠØ¡
âœ“ Process = Guest ÙÙŠ ÙÙ†Ø¯Ù‚ OSØŒ Ù„ÙŠØ³ Ù…Ø§Ù„Ùƒ
âœ“ LMK ÙŠÙ‚ØªÙ„ Background apps Ø¨ØµÙ…Øª (no onDestroy)
âœ“ ANR = UI Ù…Ø¹Ø·Ù„ 5s â†’ User frustration â†’ Kill
âœ“ Foreground Service = Protected (must show notification)
âœ“ WorkManager = Battery-efficient background work
âœ“ Save state ÙÙŠ onStopØŒ Ù„ÙŠØ³ onDestroy
âœ“ onDestroy Ù‚Ø¯ Ù„Ø§ ÙŠÙØ³ØªØ¯Ø¹Ù‰ Ø£Ø¨Ø¯Ø§Ù‹!

âœ“ Lower OOM Adj = Higher priority = Less killing
âœ“ Doze Mode = Deep sleep â†’ Background work blocked
âœ“ Battery Saver = Aggressive killing
âœ“ Malicious behavior = Instant kill + uninstall

âœ“ Ø§Ø­ØªØ±Ù… LifecycleØŒ Ø§Ø­ØªØ±Ù… BatteryØŒ Ø§Ø­ØªØ±Ù… User
âœ“ ÙƒÙ† "Good Citizen" ÙÙŠ Ù†Ø¸Ø§Ù… Android</pre>
          </div>

          <h3>Best Practices:</h3>

          <div class="success">
            <strong>âœ… Ø§Ù„Ù†ØµØ§Ø¦Ø­ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©:</strong><br />
            <br />
            <strong>1. Ø§Ø­ÙØ¸ State Ø¨Ø§Ø³ØªÙ…Ø±Ø§Ø±:</strong><br />
            â€¢ onSaveInstanceState() Ù„ÙƒÙ„ Activity/Fragment<br />
            â€¢ ViewModel Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¤Ù‚ØªØ©<br />
            â€¢ Database/SharedPrefs Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø§Ø¦Ù…Ø©<br />
            â€¢ Ù„Ø§ ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ onDestroy()<br />
            <br />
            <strong>2. Ù„Ø§ ØªØ¹Ø·Ù„ Main Thread:</strong><br />
            â€¢ ÙƒÙ„ I/O Ø¹Ù„Ù‰ Background (Dispatchers.IO)<br />
            â€¢ ÙƒÙ„ Heavy computation Ø¹Ù„Ù‰ Background<br />
            â€¢ Ø§Ø³ØªØ®Ø¯Ù… Coroutines/RxJava<br />
            â€¢ Profile ANR rate ÙÙŠ Play Console<br />
            <br />
            <strong>3. Ø§Ø³ØªØ®Ø¯Ù… APIs Ø§Ù„ØµØ­ÙŠØ­Ø©:</strong><br />
            â€¢ WorkManager Ù„Ù„Ù€ Background work<br />
            â€¢ Foreground Service Ù„Ù„Ù€ Long-running tasks<br />
            â€¢ JobScheduler Ù„Ù„Ù€ Scheduled work<br />
            â€¢ Ù„Ø§ ØªØ³ØªØ®Ø¯Ù… Service Ø¹Ø§Ø¯ÙŠ ÙÙŠ Background!<br />
            <br />
            <strong>4. Ø§Ø­ØªØ±Ù… Battery:</strong><br />
            â€¢ Ø§Ø³ØªØ¬Ø¨ Ù„Ù€ Battery Saver Mode<br />
            â€¢ Ù‚Ù„Ù„ Background work<br />
            â€¢ Ø§Ø³ØªØ®Ø¯Ù… Constraints ÙÙŠ WorkManager<br />
            â€¢ Ù„Ø§ Wakelocks ØºÙŠØ± Ø¶Ø±ÙˆØ±ÙŠØ©<br />
            <br />
            <strong>5. Ø±Ø§Ù‚Ø¨ Crashes & ANRs:</strong><br />
            â€¢ Firebase Crashlytics<br />
            â€¢ Play Console Vitals<br />
            â€¢ Fix issues ÙÙˆØ±Ø§Ù‹<br />
            â€¢ Test Ø¹Ù„Ù‰ Low-end devices<br />
            <br />
            <strong>6. ÙƒÙ† "Good Citizen":</strong><br />
            â€¢ Ù‚Ù„Ù„ Memory usage<br />
            â€¢ Ø§Ø³ØªØ¬Ø¨ onTrimMemory()<br />
            â€¢ Ù†Ø¸Ù Resources ÙÙŠ onStop()<br />
            â€¢ Ù„Ø§ ØªØ³ÙŠØ¡ Ø§Ø³ØªØ®Ø¯Ø§Ù… Permissions
          </div>

          <h3>Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† Ø§Ù„Ù…Ø¨ØªØ¯Ø¦ ÙˆØ§Ù„Ù…Ø­ØªØ±Ù:</h3>

          <table>
            <thead>
              <tr>
                <th>Ø§Ù„Ù…Ø¨ØªØ¯Ø¦</th>
                <th>Ø§Ù„Ù…Ø­ØªØ±Ù</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ onDestroy() Ù„Ù„Ø­ÙØ¸</td>
                <td>ÙŠØ­ÙØ¸ ÙÙŠ onStop() + onSaveInstanceState</td>
              </tr>
              <tr>
                <td>ÙŠØ³ØªØ®Ø¯Ù… Service Ù„Ù„Ù€ Background work</td>
                <td>ÙŠØ³ØªØ®Ø¯Ù… WorkManager + Foreground Service</td>
              </tr>
              <tr>
                <td>ÙŠØ¹Ø·Ù„ Main Thread Ø¨Ù€ Network/DB</td>
                <td>ÙƒÙ„ I/O Ø¹Ù„Ù‰ Background threads</td>
              </tr>
              <tr>
                <td>Ù„Ø§ ÙŠØ¹Ø±Ù Ù„Ù…Ø§Ø°Ø§ App ÙŠÙÙ‚ØªÙ„</td>
                <td>ÙŠÙÙ‡Ù… LMK, OOM Adj, Priority system</td>
              </tr>
              <tr>
                <td>ÙŠØ­Ø§ÙˆÙ„ "Ù…Ù†Ø¹" Ø§Ù„Ù‚ØªÙ„ Ø¨Ù€ Hacks</td>
                <td>ÙŠÙ‚Ø¨Ù„ Ø§Ù„Ù‚ØªÙ„ ÙˆÙŠØµÙ…Ù… Ù„Ù„Ø¨Ù‚Ø§Ø¡ (Resilience)</td>
              </tr>
              <tr>
                <td>Ù„Ø§ ÙŠØ³ØªØ¬ÙŠØ¨ onTrimMemory()</td>
                <td>ÙŠØ­Ø±Ø± Caches Ø¹Ù†Ø¯ Memory pressure</td>
              </tr>
            </tbody>
          </table>

          <hr />

          <h2>Ø£Ø³Ø¦Ù„Ø© Ø´Ø§Ø¦Ø¹Ø© (FAQ) ğŸ’­</h2>

          <h3>Ø³1: ÙƒÙŠÙ Ø£Ù…Ù†Ø¹ Android Ù…Ù† Ù‚ØªÙ„ ØªØ·Ø¨ÙŠÙ‚ÙŠØŸ</h3>
          <p>
            <strong>Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ù‚ØµÙŠØ±Ø©: Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ!</strong><br />
            <br />
            OS Ù„Ù‡ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ù…Ø·Ù„Ù‚Ø©. Ù„ÙƒÙ† ÙŠÙ…ÙƒÙ†Ùƒ:<br />
            â€¢ Ø§Ø³ØªØ®Ø¯Ù… Foreground Service (Ù…Ø¹ notification)<br />
            â€¢ Ù‚Ù„Ù„ Memory usage<br />
            â€¢ Ø§Ø³ØªØ¬Ø¨ onTrimMemory()<br />
            â€¢ Ø§Ø³ØªØ®Ø¯Ù… WorkManager Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Background Service<br />
            <br />
            <strong>â†’ Ø§Ù„Ù‡Ø¯Ù Ù„ÙŠØ³ "Ù…Ù†Ø¹" Ø§Ù„Ù‚ØªÙ„ØŒ Ø¨Ù„ "Ø§Ù„Ø¨Ù‚Ø§Ø¡ Ø­ÙŠØ§Ù‹ Ø¨Ø¹Ø¯ Ø§Ù„Ù‚ØªÙ„" (State preservation)</strong>
          </p>

          <h3>Ø³2: Ù„Ù…Ø§Ø°Ø§ onDestroy() Ù„Ø§ ÙŠÙØ³ØªØ¯Ø¹Ù‰ Ø¯Ø§Ø¦Ù…Ø§Ù‹ØŸ</h3>
          <p>
            <strong>Ù„Ø£Ù† LMK ÙŠØ³ØªØ®Ø¯Ù… SIGKILL!</strong><br />
            <br />
            SIGKILL = instant termination (< 100ms)<br />
            â€¢ Ù„Ø§ Lifecycle callbacks<br />
            â€¢ Ù„Ø§ ÙØ±ØµØ© Ù„Ù„ØªÙ†Ø¸ÙŠÙ<br />
            <br />
            <strong>â†’ Ø§Ø­ÙØ¸ State ÙÙŠ onStop()ØŒ Ù„ÙŠØ³ onDestroy()!</strong>
          </p>

          <h3>Ø³3: Ù…Ø§ Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† Service Ùˆ Foreground ServiceØŸ</h3>
          <p>
            <strong>Service:</strong><br />
            â€¢ ÙŠÙÙ‚ØªÙ„ Ø¨Ø¹Ø¯ 5 Ø¯Ù‚Ø§Ø¦Ù‚ ÙÙŠ Background<br />
            â€¢ OOM Adj = 0 (medium priority)<br />
            â€¢ Ù„Ø§ notification<br />
            <br />
            <strong>Foreground Service:</strong><br />
            â€¢ Ù…Ø­Ù…ÙŠ Ù…Ù† Ø§Ù„Ù‚ØªÙ„ (Ø¥Ù„Ø§ ÙÙŠ Ø­Ø§Ù„Ø§Øª Ø·Ø§Ø±Ø¦Ø©)<br />
            â€¢ OOM Adj = -800 (high priority!)<br />
            â€¢ Must show notification<br />
            <br />
            <strong>â†’ Ø§Ø³ØªØ®Ø¯Ù… Foreground Service Ù„Ù„Ø¹Ù…Ù„ Ø§Ù„Ù…Ù‡Ù… ÙÙ‚Ø·!</strong>
          </p>

          <h3>Ø³4: ÙƒÙŠÙ Ø£ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Doze ModeØŸ</h3>
          <p>
            <strong>Ù„Ø§ ØªØ­Ø§Ø±Ø¨Ù‡ØŒ Ø§Ø¹Ù…Ù„ Ù…Ø¹Ù‡!</strong><br />
            <br />
            â€¢ Ø§Ø³ØªØ®Ø¯Ù… WorkManager (ÙŠØ­ØªØ±Ù… Doze)<br />
            â€¢ High-priority FCM messages ØªØ®ØªØ±Ù‚ Doze<br />
            â€¢ Foreground Service ÙŠØ¹Ù…Ù„ ÙÙŠ Doze<br />
            â€¢ Ù„Ø§ ØªØ³ØªØ®Ø¯Ù… Wakelocks (ØªÙØªØ¬Ø§Ù‡Ù„)<br />
            <br />
            <strong>â†’ Doze = Battery saverØŒ Ø§Ø­ØªØ±Ù…Ù‡!</strong>
          </p>

          <h3>Ø³5: Ù…ØªÙ‰ Ø£Ø³ØªØ®Ø¯Ù… START_STICKY vs START_NOT_STICKYØŸ</h3>
          <p>
            <strong>START_STICKY:</strong> OS ÙŠØ¹ÙŠØ¯ ØªØ´ØºÙŠÙ„ Service Ø¨Ø¹Ø¯ Ø§Ù„Ù‚ØªÙ„<br />
            â€¢ Ù…Ø«Ø§Ù„: Music player (User ÙŠØ±ÙŠØ¯ Ø§Ø³ØªÙ…Ø±Ø§Ø±)<br />
            <br />
            <strong>START_NOT_STICKY:</strong> Ù„Ø§ restart Ø¨Ø¹Ø¯ Ø§Ù„Ù‚ØªÙ„<br />
            â€¢ Ù…Ø«Ø§Ù„: One-time task (Download finished)<br />
            <br />
            <strong>â†’ Ù…Ø¹Ø¸Ù… Ø§Ù„Ø­Ø§Ù„Ø§Øª: Ø§Ø³ØªØ®Ø¯Ù… WorkManager Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Service!</strong>
          </p>

          <hr />

          <h2>Ø®Ø§ØªÙ…Ø© ğŸ</h2>

          <blockquote>
            <strong>OS Ù„Ø§ ÙŠØ«Ù‚ Ø¨ÙƒØŒ ÙˆÙ„Ø§ ÙŠØ¬Ø¨ Ø£Ù† ØªØªÙˆÙ‚Ø¹ ØºÙŠØ± Ø°Ù„Ùƒ</strong><br />
            <br />
            Ù‡Ø°Ø§ Ù„ÙŠØ³ <strong>Ø¹Ø¯Ø§Ø¡Ù‹</strong>ØŒ Ø¨Ù„ <strong>Ø­Ù…Ø§ÙŠØ©</strong>:<br />
            â€¢ Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ù†Ø¸Ø§Ù… Ù…Ù† Ø§Ù„Ø§Ù†Ù‡ÙŠØ§Ø±<br />
            â€¢ Ø­Ù…Ø§ÙŠØ© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ø£Ø®Ø±Ù‰ Ù…Ù† Ø§Ù„ØªØ£Ø«ÙŠØ±<br />
            â€¢ Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ù† ØªØ¬Ø±Ø¨Ø© Ø³ÙŠØ¦Ø©<br />
            â€¢ Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ© Ù…Ù† Ø§Ù„Ø§Ø³ØªÙ†Ø²Ø§Ù<br />
            <br />
            <strong>Ø¹Ù†Ø¯Ù…Ø§ ØªÙÙ‡Ù… ÙÙ„Ø³ÙØ© "Ø¹Ø¯Ù… Ø§Ù„Ø«Ù‚Ø©":</strong><br />
            âœ“ ØªØµÙ…Ù… Ù„Ù„Ù€ ResilienceØŒ Ù„ÙŠØ³ Ù„Ù„Ù€ Immortality<br />
            âœ“ ØªØ­ÙØ¸ State Ø¨Ø§Ø³ØªÙ…Ø±Ø§Ø±ØŒ Ù„Ø§ ÙÙŠ Ø¢Ø®Ø± Ù„Ø­Ø¸Ø©<br />
            âœ“ ØªØ³ØªØ®Ø¯Ù… APIs Ø§Ù„ØµØ­ÙŠØ­Ø© Ù„Ù„Ù€ Background work<br />
            âœ“ ØªØ­ØªØ±Ù… Battery Ùˆ Memory limits<br />
            âœ“ ØªØ¨Ù†ÙŠ ØªØ·Ø¨ÙŠÙ‚Ø§Øª ØªØ¹ÙŠØ´ Ù…Ø¹ Ø§Ù„Ù‚ØªÙ„ØŒ Ù„ÙŠØ³ Ø¶Ø¯Ù‡<br />
            <br />
            <strong>Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³ Ø§Ù„Ù…Ø­ØªØ±Ù ÙŠØ¹Ø±Ù: OS Ù‡Ùˆ Ø§Ù„Ù…Ù„ÙƒØŒ ÙˆØªØ·Ø¨ÙŠÙ‚Ù‡ Ù…Ø¬Ø±Ø¯ Ø±Ø¹ÙŠØ©. ğŸ‘‘</strong>
          </blockquote>

          <div class="info">
            <strong>ğŸ’¡ Ø§Ù„Ø®Ø·ÙˆØ© Ø§Ù„ØªØ§Ù„ÙŠØ©:</strong><br />
            1. Ø§ÙØªØ­ ØªØ·Ø¨ÙŠÙ‚Ùƒ<br />
            2. Ø§Ø°Ù‡Ø¨ Developer Options â†’ "Don't keep activities"<br />
            3. Ø§Ø®ØªØ¨Ø± ØªØ·Ø¨ÙŠÙ‚Ùƒ (ÙƒÙ„ Activity ØªÙÙ‚ØªÙ„ ÙÙˆØ±Ø§Ù‹!)<br />
            4. ØªØ£ÙƒØ¯ Ø£Ù† State ÙŠÙØ­ÙØ¸ ÙˆÙŠÙØ³ØªØ±Ø¬Ø¹<br />
            5. Ø§Ø®ØªØ¨Ø± ANR: Ø¶Ø¹ Thread.sleep(10000) ÙÙŠ onCreate()<br />
            6. Ø±Ø§Ù‚Ø¨ Play Console â†’ Vitals â†’ ANRs & Crashes<br />
            <br />
            <strong>â†’ Ø§Ø®ØªØ¨Ø± Ù„Ù„Ù‚ØªÙ„ Ù‚Ø¨Ù„ Ù…Ø§ User ÙŠØ®ØªØ¨Ø±Ù‡! â˜ ï¸</strong>
          </div>

        </div>
      </div>
    </div>
  </div>
</body>
</html>
